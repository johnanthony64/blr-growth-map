<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bangalore Real Estate Growth Analyzer 2025</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Placeholder Comments Required by Prompt -->
    <!-- Chosen Palette: Warm Neutrals & Professional Slate. Background: #FAFAF9 (Stone-50). Text: #1C1917 (Stone-900). Accents: #0F766E (Teal-700) for growth, #D97706 (Amber-600) for high value. Designed to look premium and authoritative like a financial report. -->

    <!-- Application Structure Plan: 
         1. Dashboard/Overview: High-level view of the 3 major growth corridors (North, East, South-East) using a Radar chart to compare Lifestyle, Connectivity, and ROI.
         2. Interactive Map Analysis (Scatter Plot): A spatial representation of emerging hubs without using static maps/SVGs. Uses a scatter plot to position areas relative to the CBD, sized by "Growth Potential".
         3. Developer Focus (The "Big Players"): Specifically targets the user's query about Prestige/Brigade. Uses a Doughnut chart to show where these giants are allocating their land bank.
         4. Price Trends & ROI: A line chart visualizer allowing users to toggle between micro-markets to see historical and projected appreciation.
         Rationale: This structure moves from the "Big Picture" -> "Spatial Context" -> "Specific Developer Action" -> "Financials", directly answering the user's multi-faceted query.
    -->

    <!-- Visualization & Content Choices:
         1. Radar Chart (Dashboard): Compares North, East, and South-East Bangalore on qualitative metrics (Connectivity, Green Cover, Social Infra). Goal: Quick decision-making based on lifestyle preference.
         2. Scatter Plot (Map Proxy): Plots areas like Devanahalli, Sarjapur, Varthur on an X/Y axis (Distance from CBD vs. Price) with bubble size = Future Potential. Goal: Visualize the "Boom" areas. Justification: Chart.js allows interactive tooltips on bubbles, better than a static map.
         3. Doughnut Chart (Developer Share): Shows the distribution of new launches by major builders in specific zones. Goal: Show where the "money" is going.
         4. Line Chart (Trends): Time-series data (2020-2026). Goal: Show appreciation. Interaction: Filter by area.
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. All visuals are HTML/CSS or Canvas.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #FAFAF9; /* Stone 50 */
            color: #1C1917; /* Stone 900 */
        }
        
        .nav-btn.active {
            background-color: #0F766E; /* Teal 700 */
            color: white;
            border-bottom: 2px solid #134E4A;
        }

        /* Chart Container Strategy: 
           Strictly constrained containers to prevent layout shift and overflow.
           Responsive heights included.
        */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        
        @media (max-width: 640px) {
            .chart-container {
                height: 280px;
            }
        }

        /* Card Hover Effects */
        .stat-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white shadow-md border-b border-stone-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-stone-800 tracking-tight">BLR<span class="text-teal-700">Growth</span>Map</span>
                </div>
                <div class="hidden md:flex space-x-4 items-center" id="desktop-nav">
                    <!-- Nav generated by JS -->
                </div>
                <div class="flex items-center md:hidden">
                    <button id="mobile-menu-btn" class="text-stone-600 hover:text-teal-700 focus:outline-none">
                        ‚ò∞
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-stone-50 border-t border-stone-200 p-4">
            <!-- Mobile nav generated by JS -->
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        
        <!-- Introduction Header -->
        <div class="mb-10 text-center max-w-3xl mx-auto">
            <h1 class="text-4xl font-bold text-stone-800 mb-4">Where is the Next Boom?</h1>
            <p class="text-lg text-stone-600">
                Data-driven analysis of Bangalore's real estate corridors. Tracking investments by major players like Prestige, Brigade, and Godrej to identify high-appreciation zones for 2025 and beyond.
            </p>
        </div>

        <!-- Dynamic Content Container -->
        <div id="app-content" class="space-y-12">
            <!-- Content Injected via JS -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p>&copy; 2025 Bangalore Real Estate Intelligence. Generated based on market analysis.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA STORE ---
        const appData = {
            corridors: {
                north: {
                    name: "North Bangalore (Airport Corridor)",
                    desc: "The 'New Bangalore'. Anchored by KIA Airport, BIAL IT Investment Region, and Aerospace Park. This is where the largest land banks are being unlocked.",
                    locations: ["Hebbal", "Yelahanka", "Devanahalli", "Thanisandra"],
                    drivers: ["Blue Line Metro", "Aerospace SEZ", "Phoenix Mall of Asia", "Satellite Ring Road"],
                    topDevelopers: ["Prestige", "Godrej", "Brigade", "Century"],
                    priceGrowth: 18 // % YoY
                },
                east: {
                    name: "East Bangalore (Whitefield Ext)",
                    desc: "The established IT powerhouse extending towards Hoskote and Budigere. The Purple Line Metro completion has reignited interest here.",
                    locations: ["Whitefield", "Budigere Cross", "Varthur", "Hoskote"],
                    drivers: ["Purple Line Metro", "Peripheral Ring Road (PRR)", "R&D Centers"],
                    topDevelopers: ["Prestige", "Brigade", "Assetz", "Total Environment"],
                    priceGrowth: 12 // % YoY
                },
                southeast: {
                    name: "South-East (Sarjapur/ORR)",
                    desc: "The connectivity bridge between Electronic City and Whitefield. A massive residential hub for ORR tech workers.",
                    locations: ["Sarjapur Road", "Dommasandra", "Gunjur", "Carmelaram"],
                    drivers: ["Upcoming Metro Phase 3", "Wipro SEZ", "RGA Tech Park"],
                    topDevelopers: ["Prestige", "Sobha", "Mana", "Assetz"],
                    priceGrowth: 15 // % YoY
                }
            },
            // Scatter plot data: x=Distance from CBD, y=Current Price, r=Future Potential Score
            marketMatrix: [
                { x: 25, y: 7500, r: 25, label: "Devanahalli (North)", zone: "North" },
                { x: 12, y: 11000, r: 15, label: "Hebbal (North)", zone: "North" },
                { x: 18, y: 9200, r: 20, label: "Thanisandra (North)", zone: "North" },
                { x: 20, y: 8500, r: 18, label: "Budigere Cross (East)", zone: "East" },
                { x: 18, y: 10500, r: 12, label: "Whitefield (East)", zone: "East" },
                { x: 22, y: 7200, r: 22, label: "Varthur (East)", zone: "East" },
                { x: 18, y: 9800, r: 20, label: "Sarjapur Rd (SE)", zone: "SouthEast" },
                { x: 28, y: 5500, r: 28, label: "Hoskote (East)", zone: "East" },
                { x: 24, y: 6000, r: 24, label: "Bagalur (North)", zone: "North" }
            ],
            prestigeLaunches: {
                labels: ['North (Aerospace/Yelahanka)', 'East (Whitefield/Varthur)', 'South (Kanakapura)', 'Central'],
                data: [45, 30, 15, 10], // Percentage of new inventory
                details: {
                    'North (Aerospace/Yelahanka)': "Prestige Tech Cloud, Prestige Finsbury Park",
                    'East (Whitefield/Varthur)': "Prestige Waterford, Prestige Lavender Fields",
                    'South (Kanakapura)': "Prestige Primrose Hills",
                    'Central': "Luxury redevelopments"
                }
            },
            priceTrends: {
                years: ['2020', '2021', '2022', '2023', '2024', '2025 (Proj)'],
                north: [5200, 5500, 6200, 7500, 8800, 10500],
                east: [5800, 6000, 6500, 7800, 8500, 9400],
                southeast: [5400, 5600, 6300, 7200, 8400, 9600]
            }
        };

        // --- STATE MANAGEMENT ---
        let state = {
            currentTab: 'overview'
        };

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            renderNavigation();
            renderView('overview');
        });

        // --- NAVIGATION LOGIC ---
        function renderNavigation() {
            const tabs = [
                { id: 'overview', label: 'Market Overview' },
                { id: 'growth-matrix', label: 'Growth Matrix (Map)' },
                { id: 'big-players', label: 'Developer Focus' },
                { id: 'trends', label: 'Price Trends' }
            ];

            const desktopNav = document.getElementById('desktop-nav');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileBtn = document.getElementById('mobile-menu-btn');

            desktopNav.innerHTML = '';
            mobileMenu.innerHTML = '';

            tabs.forEach(tab => {
                // Desktop
                const btn = document.createElement('button');
                btn.className = `nav-btn px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${state.currentTab === tab.id ? 'active' : 'text-stone-600 hover:bg-stone-100'}`;
                btn.textContent = tab.label;
                btn.onclick = () => renderView(tab.id);
                desktopNav.appendChild(btn);

                // Mobile
                const mBtn = document.createElement('button');
                mBtn.className = "block w-full text-left px-3 py-2 rounded-md text-base font-medium text-stone-700 hover:bg-stone-100 hover:text-teal-700";
                mBtn.textContent = tab.label;
                mBtn.onclick = () => {
                    renderView(tab.id);
                    mobileMenu.classList.add('hidden');
                };
                mobileMenu.appendChild(mBtn);
            });

            // Mobile toggle
            mobileBtn.onclick = () => {
                mobileMenu.classList.toggle('hidden');
            };
        }

        // --- VIEW RENDERING ENGINE ---
        function renderView(viewId) {
            state.currentTab = viewId;
            renderNavigation(); // Update active state
            
            const contentDiv = document.getElementById('app-content');
            contentDiv.innerHTML = ''; // Clear current content
            
            // Fade effect
            contentDiv.style.opacity = 0;
            setTimeout(() => contentDiv.style.opacity = 1, 100);
            contentDiv.style.transition = 'opacity 0.3s ease-in-out';

            switch(viewId) {
                case 'overview':
                    renderOverview(contentDiv);
                    break;
                case 'growth-matrix':
                    renderGrowthMatrix(contentDiv);
                    break;
                case 'big-players':
                    renderBigPlayers(contentDiv);
                    break;
                case 'trends':
                    renderTrends(contentDiv);
                    break;
            }
        }

        // --- 1. OVERVIEW VIEW ---
        function renderOverview(container) {
            // Intro
            const intro = document.createElement('div');
            intro.innerHTML = `
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200 mb-8">
                    <h2 class="text-2xl font-bold text-teal-800 mb-2">The "Golden Triangle" of Growth</h2>
                    <p class="text-stone-600 mb-4">
                        Bangalore's development is currently driven by infrastructure megaprojects. 
                        The market has shifted from the Central Business District (CBD) to three primary corridors 
                        where Tier-1 developers are acquiring massive land banks.
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                        ${createCorridorCard('north', appData.corridors.north)}
                        ${createCorridorCard('east', appData.corridors.east)}
                        ${createCorridorCard('southeast', appData.corridors.southeast)}
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                        <h3 class="text-xl font-bold text-stone-800 mb-4">Corridor Comparison Radar</h3>
                        <p class="text-sm text-stone-500 mb-4">Comparing corridors on key investment metrics.</p>
                        <div class="chart-container">
                            <canvas id="radarChart"></canvas>
                        </div>
                    </div>
                     <div class="bg-teal-50 p-6 rounded-xl border border-teal-100 flex flex-col justify-center">
                        <h3 class="text-xl font-bold text-teal-900 mb-4">Why These Areas?</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="text-2xl mr-3">‚úàÔ∏è</span>
                                <div>
                                    <strong class="text-stone-800">North (The Airport Factor):</strong> 
                                    <span class="text-stone-600">Proximity to KIA and the approved 3000-acre IT Investment Region makes this the top pick for long-term appreciation (5-10 years).</span>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-2xl mr-3">üöá</span>
                                <div>
                                    <strong class="text-stone-800">East (Metro Connectivity):</strong> 
                                    <span class="text-stone-600">The Purple Line extension has made Whitefield accessible. Development is pushing further to Budigere and Hoskote for affordability.</span>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-2xl mr-3">üè¢</span>
                                <div>
                                    <strong class="text-stone-800">South-East (Work-Life):</strong> 
                                    <span class="text-stone-600">Sarjapur remains the rental yield capital due to its proximity to the Outer Ring Road tech corridor.</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            `;
            container.appendChild(intro);

            // Chart Initialization
            setTimeout(() => {
                const ctx = document.getElementById('radarChart').getContext('2d');
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['Price Affordability', 'Metro Connectivity', 'Social Infrastructure', 'Green Cover', 'Appreciation Potential'],
                        datasets: [
                            {
                                label: 'North Blr',
                                data: [60, 80, 70, 90, 95],
                                borderColor: '#0F766E', // Teal
                                backgroundColor: 'rgba(15, 118, 110, 0.2)',
                            },
                            {
                                label: 'East Blr',
                                data: [70, 95, 90, 50, 75],
                                borderColor: '#D97706', // Amber
                                backgroundColor: 'rgba(217, 119, 6, 0.2)',
                            },
                            {
                                label: 'Sarjapur (SE)',
                                data: [65, 50, 85, 60, 80],
                                borderColor: '#6366F1', // Indigo
                                backgroundColor: 'rgba(99, 102, 241, 0.2)',
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        elements: { line: { borderWidth: 2 } },
                        scales: { r: { suggesteMin: 0, suggestedMax: 100 } }
                    }
                });
            }, 0);
        }

        function createCorridorCard(key, data) {
            return `
                <div class="stat-card bg-stone-50 p-4 rounded-lg border border-stone-200">
                    <h3 class="font-bold text-lg text-teal-800 mb-1">${data.name}</h3>
                    <div class="text-xs font-semibold text-amber-600 mb-2">Growth: ${data.priceGrowth}% YoY</div>
                    <p class="text-sm text-stone-600 mb-3 line-clamp-3">${data.desc}</p>
                    <div class="text-xs text-stone-500">
                        <strong>Hotspots:</strong> ${data.locations.join(', ')}
                    </div>
                </div>
            `;
        }

        // --- 2. GROWTH MATRIX VIEW (Scatter Plot) ---
        function renderGrowthMatrix(container) {
            const wrapper = document.createElement('div');
            wrapper.innerHTML = `
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold text-stone-800">Growth Matrix: Where to Invest?</h2>
                            <p class="text-stone-600 mt-1">
                                <span class="font-bold">X-Axis:</span> Distance from Central Business District (CBD). 
                                <span class="font-bold">Y-Axis:</span> Current Price/sq.ft.
                                <span class="font-bold">Bubble Size:</span> Future ROI Potential.
                            </p>
                        </div>
                        <div class="mt-4 md:mt-0 bg-teal-50 text-teal-800 px-4 py-2 rounded-lg text-sm font-semibold">
                            Tip: Look for large bubbles in the bottom-right (Affordable + High Potential)
                        </div>
                    </div>
                    
                    <div class="chart-container" style="height: 500px; max-height: 500px;">
                        <canvas id="growthScatter"></canvas>
                    </div>

                    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="p-4 border border-l-4 border-l-teal-500 border-stone-100 bg-stone-50 rounded">
                            <h4 class="font-bold text-stone-800">The "Sweet Spot": Devanahalli & Bagalur</h4>
                            <p class="text-sm text-stone-600 mt-1">Despite being 25km+ from CBD, the low entry price (avg ‚Çπ6000-7500) combined with massive infrastructure (Aerospace Park) creates the highest ROI potential (large bubbles).</p>
                        </div>
                        <div class="p-4 border border-l-4 border-l-amber-500 border-stone-100 bg-stone-50 rounded">
                            <h4 class="font-bold text-stone-800">The "Premium" Zone: Hebbal & Whitefield</h4>
                            <p class="text-sm text-stone-600 mt-1">High entry barrier (‚Çπ10,000+), but stable returns. These are low-risk, established markets suited for end-users rather than speculative investors.</p>
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(wrapper);

            setTimeout(() => {
                const ctx = document.getElementById('growthScatter').getContext('2d');
                new Chart(ctx, {
                    type: 'bubble',
                    data: {
                        datasets: [
                            {
                                label: 'North Bangalore',
                                data: appData.marketMatrix.filter(d => d.zone === 'North').map(d => ({ x: d.x, y: d.y, r: d.r, location: d.label })),
                                backgroundColor: 'rgba(15, 118, 110, 0.7)', // Teal
                            },
                            {
                                label: 'East Bangalore',
                                data: appData.marketMatrix.filter(d => d.zone === 'East').map(d => ({ x: d.x, y: d.y, r: d.r, location: d.label })),
                                backgroundColor: 'rgba(217, 119, 6, 0.7)', // Amber
                            },
                            {
                                label: 'South-East',
                                data: appData.marketMatrix.filter(d => d.zone === 'SouthEast').map(d => ({ x: d.x, y: d.y, r: d.r, location: d.label })),
                                backgroundColor: 'rgba(99, 102, 241, 0.7)', // Indigo
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const raw = context.raw;
                                        return `${raw.location}: ‚Çπ${raw.y}/sqft (${raw.x}km from CBD)`;
                                    }
                                }
                            },
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            x: {
                                title: { display: true, text: 'Distance from CBD (km)' },
                                reverse: false
                            },
                            y: {
                                title: { display: true, text: 'Avg Price (‚Çπ/sq.ft)' }
                            }
                        }
                    }
                });
            }, 0);
        }

        // --- 3. BIG PLAYERS VIEW ---
        function renderBigPlayers(container) {
            const wrapper = document.createElement('div');
            wrapper.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Left: Chart -->
                    <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                        <h2 class="text-xl font-bold text-stone-800 mb-4">Prestige Group: Inventory Split</h2>
                        <p class="text-sm text-stone-500 mb-4">You asked about Prestige. Here is where they are launching new projects.</p>
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="prestigeChart"></canvas>
                        </div>
                        <div id="segment-detail" class="mt-4 p-3 bg-teal-50 rounded text-sm text-teal-800 text-center font-medium">
                            Click a slice to see key projects.
                        </div>
                    </div>

                    <!-- Right: Developer Strategy -->
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                        <h2 class="text-2xl font-bold text-stone-800 mb-6">Developer Strategies in 2025</h2>
                        
                        <div class="space-y-6">
                            <div class="flex items-start">
                                <div class="bg-stone-900 text-white font-bold p-3 rounded-lg mr-4 text-xl">P</div>
                                <div>
                                    <h3 class="text-lg font-bold text-stone-800">Prestige Group</h3>
                                    <p class="text-stone-600 text-sm mt-1">
                                        <strong>Focus:</strong> North Bangalore (Aerospace Park) and East (Whitefield).
                                        <br><strong>Strategy:</strong> Building large integrated townships ("Prestige City" model). They are betting big on the airport corridor, anticipating the "Aerotropolis" boom.
                                    </p>
                                </div>
                            </div>

                            <div class="flex items-start">
                                <div class="bg-amber-600 text-white font-bold p-3 rounded-lg mr-4 text-xl">B</div>
                                <div>
                                    <h3 class="text-lg font-bold text-stone-800">Brigade Group</h3>
                                    <p class="text-stone-600 text-sm mt-1">
                                        <strong>Focus:</strong> North Bangalore (Devanahalli) and Old Madras Road.
                                        <br><strong>Strategy:</strong> Commercial-led residential growth. Where they build World Trade Centers (WTC), they launch residential. Look near the upcoming Devanahalli business parks.
                                    </p>
                                </div>
                            </div>

                            <div class="flex items-start">
                                <div class="bg-teal-700 text-white font-bold p-3 rounded-lg mr-4 text-xl">G</div>
                                <div>
                                    <h3 class="text-lg font-bold text-stone-800">Godrej Properties</h3>
                                    <p class="text-stone-600 text-sm mt-1">
                                        <strong>Focus:</strong> Emerging belts (Bagalur, Budigere Cross).
                                        <br><strong>Strategy:</strong> "Resort-themed" living at competitive price points. They are targeting the aspirational mid-segment in areas just before they fully boom.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(wrapper);

            setTimeout(() => {
                const ctx = document.getElementById('prestigeChart').getContext('2d');
                const chart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: appData.prestigeLaunches.labels,
                        datasets: [{
                            data: appData.prestigeLaunches.data,
                            backgroundColor: ['#0F766E', '#D97706', '#6366F1', '#78716C'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '60%',
                        plugins: {
                            legend: { position: 'bottom', labels: { boxWidth: 10 } }
                        },
                        onClick: (e, elements) => {
                            if (elements.length > 0) {
                                const index = elements[0].index;
                                const label = appData.prestigeLaunches.labels[index];
                                const detail = appData.prestigeLaunches.details[label];
                                document.getElementById('segment-detail').innerText = `${label}: ${detail}`;
                            }
                        }
                    }
                });
            }, 0);
        }

        // --- 4. TRENDS VIEW ---
        function renderTrends(container) {
            const wrapper = document.createElement('div');
            wrapper.innerHTML = `
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-stone-800">Price Appreciation History (2020-2025)</h2>
                        <p class="text-stone-600">
                            North Bangalore is showing the steepest curve due to the "base effect" (starting lower) and high infrastructure influx.
                        </p>
                    </div>
                    
                    <!-- Controls -->
                    <div class="flex space-x-2 mb-4">
                        <button onclick="toggleDataset(0)" class="px-3 py-1 text-xs rounded bg-teal-100 text-teal-800 border border-teal-200">Toggle North</button>
                        <button onclick="toggleDataset(1)" class="px-3 py-1 text-xs rounded bg-amber-100 text-amber-800 border border-amber-200">Toggle East</button>
                        <button onclick="toggleDataset(2)" class="px-3 py-1 text-xs rounded bg-indigo-100 text-indigo-800 border border-indigo-200">Toggle SE</button>
                    </div>

                    <div class="chart-container">
                        <canvas id="trendLineChart"></canvas>
                    </div>

                    <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                        <div class="p-4 bg-stone-50 rounded border border-stone-200">
                            <div class="text-3xl font-bold text-teal-700">‚Çπ10,500</div>
                            <div class="text-xs uppercase text-stone-500 font-bold tracking-wide mt-1">Projected Avg North 2025</div>
                        </div>
                        <div class="p-4 bg-stone-50 rounded border border-stone-200">
                            <div class="text-3xl font-bold text-amber-600">‚Çπ9,400</div>
                            <div class="text-xs uppercase text-stone-500 font-bold tracking-wide mt-1">Projected Avg East 2025</div>
                        </div>
                        <div class="p-4 bg-stone-50 rounded border border-stone-200">
                            <div class="text-3xl font-bold text-indigo-600">‚Çπ9,600</div>
                            <div class="text-xs uppercase text-stone-500 font-bold tracking-wide mt-1">Projected Avg SE 2025</div>
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(wrapper);

            setTimeout(() => {
                const ctx = document.getElementById('trendLineChart').getContext('2d');
                window.trendChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: appData.priceTrends.years,
                        datasets: [
                            {
                                label: 'North Bangalore (Hebbal/Aero)',
                                data: appData.priceTrends.north,
                                borderColor: '#0F766E',
                                backgroundColor: '#0F766E',
                                tension: 0.4,
                                pointRadius: 4
                            },
                            {
                                label: 'East Bangalore (Whitefield)',
                                data: appData.priceTrends.east,
                                borderColor: '#D97706',
                                backgroundColor: '#D97706',
                                tension: 0.4,
                                pointRadius: 4
                            },
                            {
                                label: 'South-East (Sarjapur)',
                                data: appData.priceTrends.southeast,
                                borderColor: '#6366F1',
                                backgroundColor: '#6366F1',
                                tension: 0.4,
                                pointRadius: 4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: { mode: 'index', intersect: false },
                        plugins: {
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            y: {
                                title: { display: true, text: 'Price in ‚Çπ/sq.ft' },
                                grid: { color: '#E7E5E4' } // Stone 200
                            },
                            x: {
                                grid: { display: false }
                            }
                        }
                    }
                });
            }, 0);
        }

        // Global function for toggle button
        window.toggleDataset = function(index) {
            if (window.trendChart) {
                const meta = window.trendChart.getDatasetMeta(index);
                meta.hidden = meta.hidden === null ? !window.trendChart.data.datasets[index].hidden : null;
                window.trendChart.update();
            }
        };

    </script>
</body>
</html>
